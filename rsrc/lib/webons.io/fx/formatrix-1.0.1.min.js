/*!
*  formatrix 1.0.1 (http://formatrix.org)
*
*
*  Copyright (c) 2016-2021 Germo Moeller / webons.industries
*
*  This source code is licensed under the MIT license found in the
*  LICENSE file in the root directory of this source tree.
*
*////***************************************************************************>
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,b,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[b]=a.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var b=0;return $jscomp.iteratorPrototype(function(){return b<d.length?{done:!1,value:d[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(d,b){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var a=0,c={next:function(){if(a<d.length){var e=a++;return{value:b(e,d[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};
$jscomp.polyfill=function(d,b,a,c){if(b){a=$jscomp.global;d=d.split(".");for(c=0;c<d.length-1;c++){var e=d[c];e in a||(a[e]={});a=a[e]}d=d[d.length-1];c=a[d];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(a,d,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");
!function(d){var b={prv:{$:{ver:"1.0.1",instance:null,config:{locator:{web:"https://",lib:"rsrc\u00b5/lib/",app:"rsrc/app/"},charset:"utf-8",ajax:{method:"GET",url:"index.php",async:"false",query:{}}},core:{ns:null,use:null,status:null,"default":{pando:"0.0.1~?"},slots:{}},init:null,es_ver:null,tm_process:[],ns:{},ns_scm:{"~?":""},ns_req:[],stream:{},fx_define:{}},slots:{base:{esver:function(){try{eval("var foo = (x)=>x+1")}catch(a){return 5}return null},fx:function(){return b.pub}},tm:{"default":function(a,
c){var e=this,f;f=document.createElement("script");f.src=c;f.charset=b.prv.$.config.charset;f.type="module";f.setAttribute("async",!0);f.onload=f.onerror=function(c){e.stream.$.tmc--;b.prv.tm_finishing(e.stream.$.id,a)};document.head.appendChild(f)}},ns:{finalize:function(a){var c=this;Object.keys(b.prv.$.fx_define).forEach(function(a){c[a]=b.prv.$.fx_define[a]})}},cb:{test:null},loader:{styles:function(a,c){a.forEach(function(a){b.pub.dom.style(b.prv.formatrix.parse_namespace(a,c,!0))});return{}}}},
getTmpNS:function(){var a=Math.random().toString(36).slice(-8);return b.prv.$.ns[a]?this.getTmpNS():a},setModifiers:function(){delete b.prv.$.config.locator.sys;Object.keys(b.prv.$.config.locator).map(function(a){b.prv.$.ns_scm[a+"://"]=b.prv.$.config.locator[a]})},setNamespace:function(a,c){-1!=b.prv.$.ns_req.indexOf(a.pointer)&&b.prv.$.ns_req.splice(b.prv.$.ns_req.indexOf(a.pointer),1);if(!b.prv.$.ns[a.pointer])return b.prv.$.ns[a.pointer]=Object.create({id:a.pointer,ns:a,fx:{$:null,prv:null,pub:{}},
sid:null,src:null,status:null,parent:null,childs:[]}),!0},tm_finishing:function(a,c){for(var e=a?a:(new b.prv.stream(null,"root")).$.id,f,k,g,d,h;0<b.prv.$.tm_process.length;)for(a=e,g=b.prv.$.tm_process.pop(),h=c,g.$.__fx__.config.ns?h=g.$.__fx__.config.ns:0!=b.prv.$.tm_process.length&&(h="tmp://"+b.prv.getTmpNS()),h=b.prv.formatrix.parse_namespace(h,c),b.prv.setNamespace(h,g),null===b.prv.$.ns[h.pointer].fx.prv||!0===b.prv.$.ns[h.pointer].fx.prv.$.__fx__.inherit?(b.prv.$.ns[h.pointer].fx.$=g.$.__fx__,
b.prv.$.ns[h.pointer].fx.prv=g,g.$.__fx__.ns=b.prv.$.ns[h.pointer]):g.$.__fx__.ns={id:h.pointer},g.$.__fx__.config.inherit&&b.prv.$.stream[a].id!=b.prv.$.stream[a].origin&&(k=new b.prv.stream(null,a),b.prv.$.stream[a].$.origin=a,a=k.$.id),0>b.prv.$.stream[a].$.execute.indexOf(g.$.__fx__.ns.id)&&(f=b.prv.$.stream[a].$.execute.indexOf(g.$.__fx__.ns.id),0<f?b.prv.$.stream[a].$.execute.splice(f,0,g.$.__fx__.ns.id):b.prv.$.stream[a].$.execute.splice(b.prv.$.stream[a].$.execute.indexOf(c),0,g.$.__fx__.ns.id)),
f=a,g.$.__fx__.cb.req.slice().reverse();0<g.$.__fx__.cb.req.length;)if(d=g.$.__fx__.cb.req.shift()){a=f;if("Object"!=(h=b.pub.isTypeOf(d)))switch(h){case "Array":if(b.pub.isTypeOf(d[0],Object)){if(d[0].branch&&(d[0].origin?(b.pub.isTypeOf(d,String)||(d[0].origin="root"),k=new b.prv.stream(d[0].branch,d[0].origin)):k=new b.prv.stream(d[0].branch,a),a=k.$.id),d=d[1],b.pub.isTypeOf(d,Object))break}else{d=b.prv.slots.loader[d[0]]?b.prv.slots.loader[d[0]](d[1],g.$.__fx__.ns.id):{};break}case "String":d=
{use:d}}Object.keys(d).map(function(c){h=b.prv.formatrix.parse_namespace(d[c],g.$.__fx__.ns.id);g.$.__fx__.cb.use.push({key:c,ns:h.pointer,node:h.node,data:h.data});b.prv.$.ns[h.pointer]||-1!=b.prv.$.ns_req.indexOf(h.pointer)||(b.prv.$.ns_req.push(h.pointer),b.prv.$.stream[a].$.request.push(h.pointer),c=b.prv.$.stream[a].$.execute.indexOf(h.pointer),0<c?b.prv.$.stream[a].$.execute.splice(c,0,h.pointer):b.prv.$.stream[a].$.execute.unshift(h.pointer),b.prv.setNamespace(h),b.prv.$.ns[h.pointer].src=
b.prv.formatrix.get_src(h.pointer))})}b.prv.$.stream[e].$.status?0==b.prv.$.stream[e].$.branches.length?b.prv.$.stream[e].$.tm.routine():b.prv.$.stream[e].close():b.prv.$.stream[e].start()},callnode:function(a,c,e){a=a.split(/[.](?![^\(]*\))/);for(var f=0;f<a.length;){var d=/(.*?)\((.*?)\)/.exec(a[f]);d&&(a[f]=d[1]);"undefined"===typeof c[a[f]]?(c[a[f]]=null,f=a.length):d&&b.pub.isTypeOf(c[d[1]],Function)?(0!=d[2].length?(d[2]=d[2].replace(/'/g,'"').split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)(?![^\(\[]*[\]\)])/),
d[2].forEach(function(a,b){var c;a=a.trim();if(!(c=parseInt(a))&&-1!=['""',"''","[]"].indexOf(a[0]+a.substring(a.length-1))){c=a.substring(1,a.length-1);try{c=JSON.parse(c)}catch(m){}}d[2][b]=c})):d[2]=[],e&&(d[2]=d[2].concat(e)),c=c[d[1]].apply(c,d[2])):c=c[a[f]];return c}},callback:function(a){for(var c,e;0<a.$.__fx__.cb.use.length;)c=a.$.__fx__.cb.use.shift(),e=b.prv.$.ns[c.ns].fx.pub,c.node&&e&&b.pub.isTypeOf(e,Object)&&(e=b.prv.callnode(c.node,e)),a[c.key]=e;a.$.__fx__.config.parent&&(a.$.__fx__.ns.parent=
a.$.__fx__.config.parent);for(;0<a.$.__fx__.cb.pub.length;)switch(c=a.$.__fx__.cb.pub.shift(),b.pub.isTypeOf(c)){case "Array":var f;e={};c[0]=c[0].split(",");for(var k=0;k<c[0].length;k++)f=c[0][k].trim(),"object"==typeof a[f]?e=b.pub.object.merge(e,a[f]):e[f]=a[f];"function"==typeof c[1]?((f=c[1].name)||(f="main"),e[f]=c[1]):e=b.pub.object.merge(e,c[1]);c=e;case "Function":if("__return"!=c.name)if(e=c.name?c.name:b.pub.isTypeOf(c,Function,!0)?"class":"function",0==a.$.__fx__.cb.pub.length){b.prv.$.ns[a.$.__fx__.ns.id].fx.pub=
c;a[e]=c;break}else f={},f[e]=c,c=f;else c=b.pub.isTypeOf(c,Function,!0)?c():new c;case "Object":Object.keys(c).map(function(e){var f=Object.getOwnPropertyDescriptor(c,e);a[e]?a[e].value=b.pub.object.merge(a[e].value,f.value):Object.defineProperty(a,e,f);b.prv.$.ns[a.$.__fx__.ns.id].fx.pub[e]?b.prv.$.ns[a.$.__fx__.ns.id].fx.pub[e].value=b.pub.object.merge(b.prv.$.ns[a.$.__fx__.ns.id].fx.pub[e].value,f.value):Object.defineProperty(b.prv.$.ns[a.$.__fx__.ns.id].fx.pub,e,f)});break;default:c.name?a[c.name]=
c:a=c}for(b.prv.slots.cb.test&&b.prv.slots.cb.test.call(a);0<a.$.__fx__.cb.run.length;)c=a.$.__fx__.cb.run.shift(),c.prototype?new c:c();a.$.__fx__.cb.win&&a.$.__fx__.cb.win.forEach(function(c){b.pub.isTypeOf(c,Function)&&(c=c.call(a));b.pub.isTypeOf(c,Object)&&Object.keys(c).forEach(function(a){var e=b.pub.object.path(a,c[a]);d[a]=e[a]})})}},pub:{isTypeOf:function(a,b,e){e&&(e=a);a=Object.prototype.toString.call(a).slice(8,-1);e&&("HTML"==a.substr(0,4)&&(a="DomObject"),"Function"==a&&(a=/^class\s/.test(Function.prototype.toString.call(e))?
"Class":"Function"));return b?a===(b.name||b):a},object:{test:function(){},merge:function(){var a=Array.prototype.slice.call(arguments),c=a.shift()||{};a.forEach(function(a){for(var e in a)if(b.pub.isTypeOf(a[e],Object)&&b.pub.isTypeOf(c[e],Object)){var d=Object.getOwnPropertyDescriptor(a,e);d&&(d.get||d.set)?Object.defineProperty(c,e,d):c[e]=b.pub.object.merge(c[e],a[e])}else c[e]=a[e]});return c},path:function(a,c,e,d){d=void 0===d?".":d;e||(e={});b.pub.isTypeOf(a,String)&&(a=a.split(d));if(0<a.length){d=
e;for(var f=0;f<a.length-1;f++)d=d[a[f]]=d[a[f]]||{};b.pub.isTypeOf(c,Object)?d[a[a.length-1]]=b.pub.object.merge(d[a[a.length-1]],c):d[a[a.length-1]]=c}else e=b.pub.isTypeOf(v,Object)?b.pub.object.merge(e,c):c;return e},convert:function(a,c){var e,d,k,g=[];for(e in a)a.hasOwnProperty(e)&&(d=c?c+"["+e+"]":e,k=a[e],g.push(null!==k&&"object"===typeof k?b.pub.object.convert(k,d):encodeURIComponent(d)+"="+encodeURIComponent(k)));return g.join("&")}},request:{get:function(a){b.pub.isTypeOf(a,Object)||
(a={});a=a||{};a.url=a.url?a.url:b.prv.$.config.ajax.url;a.url=a.url+"?"+b.pub.object.convert(a.data);var c=new XMLHttpRequest;c.open(a.method?a.method:b.prv.$.config.ajax.method,a.url,a.async?a.async:b.prv.$.config.ajax.async,a.user?a.user:null,a.pswd?a.pswd:null);a.headers&&Object.keys(a.headers).forEach(function(b){c.setRequestHeader(b,a.headers[b])});c.onreadystatechange=function(b){a.response?a.response.call(this):4==this.readyState&&200==this.status?a.success?a.success.call(this):null:4==this.readyState&&
(a.error?a.error.call(this):null)};c.send(null)}},dom:{ready:function(a){"complete"===document.readyState?setTimeout(function(){return a&&a()},1):window.addEventListener("load",function(){return a&&a()},!1)},load_script:function(a,c,d){d||(a=b.pub.namespace.get_src(a));d=document.createElement("script");c&&(d.onload=d.onerror=c());d.src=a;d.charset="utf-8";document.head.appendChild(d)},execute_scripts:function(a,c){for(var d=document.querySelectorAll('script[type="'+a+'"]'),f="",k=[],g,l=0;l<d.length;l++)d[l].dataset.load?
k.push(d[l].dataset.load):f+=d[l].innerHTML.toString().replace("\t","").split("\r\n"),d[l].type=a+":ready";if(g=k.length)for(l=0;l<k.length;l++)b.pub.dom.load_script(k[l],function(){g--;0==g&&f&&b.pub.dom.load_script("data:text/plain;base64,"+btoa(f),null,!0)});else f&&b.pub.dom.load_script("data:text/plain;base64,"+btoa(f),null,!0)}},uri:{parse_query:function(a){return a?JSON.parse('{"'+decodeURI(a).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):null}}}};b.prv.formatrix=function(a){Fx.config=
null;b.prv.$.tm_process.push(this);this.$={__fx__:{ns:null,config:{inherit:!1,extend:!0},cb:{req:[],use:[],pub:[],run:[],win:[]}}};null!==b.prv.$.instance&&(this.cmd=b.prv.$.ns["sys://formatrix-"+b.prv.$.ver].fx.pub,"string"==typeof a&&(this.$.__fx__.config.ns=a),this.$.__fx__.config=a=b.pub.object.merge(this.$.__fx__.config,a));if(b.prv.$.instance)b.prv.$.core.slots.fxInit&&b.prv.$.core.slots.fxInit.call(this),b.prv.$.core.id||null===b.prv.$.core.ns||a.ns!=b.prv.formatrix.parse_namespace(b.prv.$.core.ns).pointer||
(this.$.base=b);else if(!1===b.prv.$.instance)a.init&&(b.prv.$.config=b.pub.object.merge(b.prv.$.config,a.init),a.init.locator&&b.prv.setModifiers()),this.$.__fx__.ns=b.prv.formatrix.parse_namespace(b.prv.$.ns["sys://formatrix-"+b.prv.$.ver].init,null),b.prv.$.init={ns:this.$.__fx__.ns},null!==a.core&&("object"!=typeof a.core&&(a.core={}),a.core.ns||(a.core.use?(a.core.use=a.core.use.trim().split("-"),a.core.use[1]||(a.core.use[1]=b.prv.$.core["default"][a.core.use[0]])):a.core.use=["pando",b.prv.$.core["default"].pando],
a.core.ns="lib://webons.io/fx/core/"+a.core.use[0]+"/"+a.core.use[1]+"/"),b.prv.$.core=b.pub.object.merge(b.prv.$.core,a.core,{id:null,status:!1}),this.use([{branch:"core"},{core:a.core.ns}])),b.prv.$.instance=!0;else{this.$.__fx__.config.inherit=!0;a=b.prv.$.ns["sys://formatrix-"+b.prv.$.ver]={id:"sys://formatrix-"+b.prv.$.ver,fx:{$:this.$.__fx__,prv:this,pub:b.pub},sid:(new b.prv.stream("root")).$.id,src:a.src,status:!0,init:a.getAttribute("root-ini")};if(b.prv.$.es_ver=b.prv.slots.base.esver())b.prv.$.ns_scm["~?"]=
"_es"+b.prv.$.es_ver;b.prv.setModifiers();window.DomObject={name:"DomObject"};String.name||(String.name="String",Array.name="Array",Object.name="Object",Function.name="Function",document.baseURI||document.__defineGetter__("baseURI",function(){var a=document.getElementsByTagName("base");return 0<a.length?a[0].getAttribute("href"):/^.*\//.exec(document.URL)[0]}),function(){}.name||Object.defineProperty(Function.prototype,"name",{get:function(){var a=(this.toString().match(/^function\s*([^\s(]+)/)||
[])[1];Object.defineProperty(this,"name",{value:a});return a}}));a.init&&this.use([{branch:"init"},a.init]);this.pub(b.pub);this.run(function(){b.pub.dom.ready(function(){b.pub.dom.execute_scripts("fx/namespace")})});b.prv.$.instance=!1;b.prv.tm_finishing(a.sid,a.id)}};b.prv.formatrix.prototype={ns:null,use:function(a){this.$.__fx__.cb.req.push(a)},pub:function(a){this.$.__fx__.cb.pub.push(a)},prv:{},run:function(a){this.$.__fx__.cb.run.push(a)},win:function(a){this.$.__fx__.cb.win.push(a)},ini:function(a){if(!a)return!1;
a instanceof Fx&&(a.$.__fx__.ns.childs.push(this),this.$.__fx__.config.ns||(this.$.__fx__.config.ns=a.$.__fx__.ns.id+"|"+a.$.__fx__.ns.childs.length),this.$.__fx__.config.parent=a.$.__fx__.ns.id,b.prv.tm_finishing(null,a.$.__fx__.ns.id))}};b.prv.test={_funcs:{}};b.prv.formatrix.prototype.__defineSetter__("exe",function(a){if(b.pub.isTypeOf(a,Function,!0)){b.prv.test._funcs[a.name]||(b.prv.test._funcs[a.name]={});var c=a.call(b.prv.test._funcs[a.name],1111111);console.log(b.prv.test._funcs.css);console.log(b.prv.test._funcs.css.arguments);
console.log(c)}""==a.name&&console.log("exe..");this.$.__fx__.cb[a.name]||(this.$.__fx__.cb[a.name]=[]);this.$.__fx__.cb[a.name].push(a)});b.prv.formatrix.parse_namespace=function(a,c,d){if(!a)return!1;var e;if(c&&(e=/^(.\/)|^(..\/)/.exec(a))){if("./"==e[0])"/"!=c.slice(-1)&&(c=c.substr(0,c.lastIndexOf("/")+1)),a=a.substring(2);else for(;-1<a.indexOf("../")&&-1<c.lastIndexOf("/");)c=c.substr(0,c.lastIndexOf("/",c.lastIndexOf("/")-1)+1),a=a.substring(3);a=c+a}e=(e=a.match(/[^~][?&].*$/))?[a.substr(0,
a.length-e[0].length+1).split("::"),a.substr(a.length-e[0].length+2).split("#")]:(e=a.match(/::|#/))?[[a.substr(0,e.index),"::"==e[0]?a.substr(e.index+2).split("#")[0]:null],[null,-1!=a.indexOf("#")?a.substr(a.indexOf("#")+1):null]]:[[a,null],[null,null]];try{if(d)return{src:b.prv.formatrix.get_src(a),ext:/\.\w*(?=($|\?|#))/.exec(a)[0].substr(1)};var k=/\s*(.*?)\s*:\/\//.exec(a);return{locator:k?k.pop():null,pointer:e[0][0].replace(/index($|.js$)/,""),node:e[0][1],data:e[1][0]?JSON.parse('{"'+decodeURI(e[1][0]).replace(/"/g,
'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):null,hash:e[1][1]}}catch(g){return g}};b.prv.formatrix.get_src=function(a,c){Object.keys(b.prv.$.ns_scm).forEach(function(c){a=a.replace(c,b.prv.$.ns_scm[c])});a=a.split("?");"/"==a[0].slice(-1)&&(a[0]+="index");/\.(js|css)$/.test(a[0])||(a[0]+=".js");/\s*(.*?)\s*:\/\//.test(a[0])||(a[0]=document.baseURI+a[0]);return c?a[0]:a[0]+(a[1]?"?"+a[1]:"")};b.prv.formatrix.call=function(a,c){a=b.prv.formatrix.parse_namespace(a,c);if(b.pub.isTypeOf(a,Error))return null;
if(b.prv.$.ns[a.pointer]){var d=Array.prototype.slice.call(arguments,1);return b.prv.callnode(a.node,b.prv.$.ns[a.pointer].fx.pub,d)}};b.prv.stream=function(a,c){b.pub.isTypeOf(a,String)||(a="$"+Date.now());if(b.prv.$.stream[a])return b.prv.$.stream[a];b.prv.$.stream[a]=this;this.$={id:a,tm:null,status:null,origin:c,request:[],execute:[],branches:[],tmc:0};c&&b.prv.$.stream[c].$.branches.push(a);this.$.tm=new b.prv.tm(this)};b.prv.stream.prototype={start:function(){this.$.status=!0;this.$.tm.routine()},
close:function(){if(0!=this.$.branches.length)b.prv.$.stream[this.$.branches.shift()].start();else if(0!=this.$.request.length)this.$.tm.routine();else{for(var a;void 0!==(a=this.$.execute.shift());)b.prv.$.ns[a].fx.prv&&b.prv.callback(b.prv.$.ns[a].fx.prv);this.$.origin&&b.prv.$.stream[this.$.origin].close()}}};b.prv.tm=function(a){this.stream=a};b.prv.tm.prototype={routine:function(){for(var a;void 0!==(a=this.stream.$.request.shift());)this.stream.$.tmc++,b.prv.slots.tm[b.prv.$.ns[a].ns.locator]?
b.prv.slots.tm[b.prv.$.ns[a].ns.locator].call(this,b.prv.$.ns[a].ns):b.prv.slots.tm["default"].call(this,a,b.prv.$.ns[a].src);0==this.stream.$.tmc&&this.stream.close()}};b.pub.fx=b.prv.formatrix;d.Fx=b.prv.formatrix;new d.Fx(document.querySelector("script[root]"))}(window);
